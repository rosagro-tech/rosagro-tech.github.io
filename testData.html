    <div> [0] 
    <div id="data"></div>

    <br>

    <div id="error"></div>
    </div>

       <script>
       fetch('http:///indeal.io/test/gen.php')
          .then((response) => {
           response.text()
           return response.json(); // Error!
         })
         .then((data) => {
          const bigdata = data.text();
          document.getElementById('data').innerHTML = bigdata + 'data 1';
          console.log(data);
         })
         .catch((error) => {
       document.getElementById('error').innerHTML = data + 'data 1 err';
           console.log(error)
         })
       </script>


   <script>
   //const proxyurl = "";
     const url = "http://indeal.io/test/gen.php"; // site that doesnâ€™t send Access-Control-*
     fetch(url)
    .then(response => response)
    .then(data => {
     const resData = data.text();
     console.log(resData);
     document.getElementById('data').innerHTML = resData;
    })
   .catch((err) => document.getElementById('error').innerHTML = response + err;
   </script>
<div> [1]
   <div id="data"></div>
   <div id="error"></div>
</div>



