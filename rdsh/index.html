<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>РДШ</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="nfs_mw.css"> 
  <script src="https://kit.fontawesome.com/969af07023.js" crossorigin="anonymous"></script>

</head>
<body style="background-image:url(whtr.png);background-size:contain;background-color: #ffae00;background-repeat: no-repeat;background-position: center;">
<!-- partial:index.partial.html -->
<main>
    <div class="atom">
        <div class="electron"></div>
        <div class="electron-alpha"></div>
        <div class="electron-omega"></div>
    </div>
</main>

<h1 class="scns" style="">наука</h1>
<audio src="lucy.mp3" autoplay loop  id="audio1"></audio>

    <div style="position: absolute;">
        <i class="fa fa-play" aria-hidden="true" id="btnPlay"  onclick="PlayNow()"></i>
        <i class="fa fa-pause" aria-hidden="true" id="btnPause" onclick="PauseNow()"></i>
        <i class="fa fa-volume-off" aria-hidden="true" id="btnMute" onclick="MuteNow()"></i>
       <!-- <input type="button" id="btnPlay" value=">" onclick="PlayNow()" /> 

        <input type="button" id="btnPause" value="||" onclick="PauseNow()" />
        <input type="button" id="btnMute" value="<X" onclick="MuteNow()" /> -->
        <br />

        <i class="fa fa-volume-up" aria-hidden="true"></i>
        <input type="range" min="0" max="1" step="0.1" id="volume"
            onchange="ChangeVolume()" style="transform: rotate(270deg);position:fixed;top:90%;right:0;">
        <br />

        <!-- время: -->
        <input type="range" step="any" id="seekbar"
            onchange="ChangeTheTime()">
        <label id="lblTime"></label>
    </div>

    <script src="modernizr-custom.js" type="text/javascript"></script>
    <script type="text/javascript">
  
        // get the audio, volume and seekbar elements
        var audio = document.getElementById("audio1");
        var volumeRange = document.getElementById('volume');
        var seekbar = document.getElementById('seekbar');
        
        window.onload = function () {
            audio.addEventListener('timeupdate', UpdateTheTime, false);
            audio.addEventListener('durationchange', SetSeekBar, false);
            volumeRange.value = audio.volume;
        }

        // fires when volume element is changed
        function ChangeVolume() {
            var myVol = volumeRange.value;
            audio.volume = myVol;
            if (myVol == 0) {
                audio.muted = true;
            } else {
                audio.muted = false;
            }
        }

        // fires when page loads, it sets the min and max range of the video
        function SetSeekBar() {
            seekbar.min = 0;
            seekbar.max = audio.duration;
        }

        // fires when seekbar is changed
        function ChangeTheTime() {
            audio.currentTime = seekbar.value;
        }

        function UpdateTheTime() {
            var sec = audio.currentTime;
            var h = Math.floor(sec / 3600);
            sec = sec % 3600;
            var min = Math.floor(sec / 60);
            sec = Math.floor(sec % 60);
            if (sec.toString().length < 2) sec = "0" + sec;
            if (min.toString().length < 2) min = "0" + min;
            document.getElementById('lblTime').innerHTML = h + ":" + min + ":" + sec;
            seekbar.min = audio.startTime;
            seekbar.max = audio.duration;
            seekbar.value = audio.currentTime;
        }

        // fires when Play button is clicked
        function PlayNow() {
            if (audio.paused) {
                audio.play();
            } else if (audio.ended) {
                audio.currentTime = 0;
                audio.play();
            }
        }
        // fires when Pause button is clicked
        function PauseNow() {
            if (audio.play) {
                audio.pause();
            }
        }
        // fires when Mute button is clicked
        function MuteNow() {
            if (audio.muted) {
                audio.muted = false;
                volumeRange.value = audio.volume;
            }
            else {
                audio.muted = true;
                volumeRange.value = 0;
            }
        }
    </script>

<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
